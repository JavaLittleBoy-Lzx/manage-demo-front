# å¯¼èˆªæ ä¼˜åŒ–å®æ–½æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºç°ä»£åŒ–çš„é¢åŒ…å±‘ç»„ä»¶

åˆ›å»º `src/components/Breadcrumb.vue`ï¼š

```vue
<template>
  <div class="breadcrumb-wrapper">
    <el-breadcrumb separator="/">
      <el-breadcrumb-item
        v-for="(item, index) in breadcrumbList"
        :key="index"
        :to="index === breadcrumbList.length - 1 ? null : item.path"
      >
        <i :class="item.icon" v-if="item.icon"></i>
        <span>{{ item.title }}</span>
      </el-breadcrumb-item>
    </el-breadcrumb>
  </div>
</template>

<script>
import { computed } from 'vue'
import { useRoute } from 'vue-router'

export default {
  name: 'CustomBreadcrumb',
  setup() {
    const route = useRoute()
    
    const breadcrumbList = computed(() => {
      const matched = route.matched.filter(item => item.meta && item.meta.title)
      const breadcrumbs = []
      
      // æ·»åŠ é¦–é¡µ
      if (route.path !== '/admin/emptyPer') {
        breadcrumbs.push({
          title: 'é¦–é¡µ',
          path: '/admin/emptyPer',
          icon: 'el-icon-house'
        })
      }
      
      // æ·»åŠ å½“å‰è·¯å¾„å±‚çº§
      matched.forEach(item => {
        breadcrumbs.push({
          title: item.meta.title,
          path: item.path,
          icon: item.meta.icon
        })
      })
      
      return breadcrumbs
    })
    
    return {
      breadcrumbList
    }
  }
}
</script>

<style scoped>
.breadcrumb-wrapper {
  padding: 12px 16px;
  background: #fff;
  border-bottom: 1px solid #e8e8e8;
  margin-bottom: 16px;
}

.breadcrumb-wrapper .el-breadcrumb {
  font-size: 14px;
}

.breadcrumb-wrapper i {
  margin-right: 4px;
  color: #1890ff;
}
</style>
```

### ç¬¬äºŒæ­¥ï¼šä¼˜åŒ–ä¾§è¾¹æ æ ·å¼

æ›´æ–° `src/components/Sidebar.vue` çš„æ ·å¼éƒ¨åˆ†ï¼š

```vue
<style scoped>
.sidebar {
  display: block;
  position: absolute;
  left: 0;
  top: 71px;
  bottom: 0;
  overflow-y: scroll;
  background: linear-gradient(180deg, #001529 0%, #002140 100%);
  box-shadow: 2px 0 8px rgba(0,0,0,0.15);
}

.sidebar::-webkit-scrollbar {
  width: 4px;
}

.sidebar::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.2);
  border-radius: 2px;
}

.sidebar-el-menu:not(.el-menu--collapse) {
  width: 280px;
}

.sidebar-el-menu {
  border-right: none;
  background: transparent !important;
}

/* èœå•é¡¹æ‚¬åœæ•ˆæœ */
:deep(.el-menu-item:hover) {
  background-color: rgba(24, 144, 255, 0.1) !important;
  transform: translateX(4px);
  transition: all 0.3s ease;
}

/* æ¿€æ´»çŠ¶æ€ */
:deep(.el-menu-item.is-active) {
  background-color: #1890ff !important;
  border-radius: 6px;
  margin: 2px 8px;
  color: #fff !important;
}

/* å­èœå•æ ·å¼ */
:deep(.el-sub-menu .el-menu-item) {
  padding-left: 60px !important;
  font-size: 13px;
}

/* å›¾æ ‡æ ·å¼ */
:deep(.el-menu-item img) {
  width: 18px;
  height: 18px;
  margin-right: 12px;
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

:deep(.el-menu-item:hover img) {
  opacity: 1;
}
</style>
```

### ç¬¬ä¸‰æ­¥ï¼šåœ¨AdminHomeä¸­é›†æˆé¢åŒ…å±‘

æ›´æ–° `src/views/admin/AdminHome.vue`ï¼š

```vue
<template>
  <div class="about">
    <v-header />
    <v-sidebar :items="roleSidebar.items" />
    <div class="content-box" :class="{ 'content-collapse': collapse }">
      <!-- æ·»åŠ é¢åŒ…å±‘å¯¼èˆª -->
      <custom-breadcrumb />
      <div class="content">
        <router-view v-slot="{ Component }">
          <transition name="move" mode="out-in">
            <keep-alive :include="tagsList">
              <component :is="Component" />
            </keep-alive>
          </transition>
        </router-view>
      </div>
    </div>
  </div>
</template>

<script>
import { computed, reactive } from "vue";
import { useStore } from "vuex";
import vHeader from "../../components/Header.vue";
import vSidebar from "../../components/Sidebar.vue";
import CustomBreadcrumb from "../../components/Breadcrumb.vue"; // æ–°å¢
import request from "../../utils/request";

export default {
  components: {
    vHeader,
    vSidebar,
    CustomBreadcrumb, // æ–°å¢
  },
  // ... å…¶ä»–ä»£ç ä¿æŒä¸å˜
};
</script>
```

### ç¬¬å››æ­¥ï¼šæ›´æ–°è·¯ç”±å…ƒä¿¡æ¯

åœ¨ `src/router/index.js` ä¸­ä¸ºè·¯ç”±æ·»åŠ å›¾æ ‡ä¿¡æ¯ï¼š

```javascript
{
  path: "user",
  name: "user",
  meta: {
    title: 'ç”¨æˆ·ç®¡ç†',
    permission: "11",
    icon: 'el-icon-user'  // æ–°å¢å›¾æ ‡
  },
  component: () => import("../views/admin/User.vue")
},
{
  path: "ownerInfo",
  name: "OwnerInfo",
  meta: {
    title: 'ä¸šä¸»ç®¡ç†',
    permission: "22",
    icon: 'el-icon-user-solid'  // æ–°å¢å›¾æ ‡
  },
  component: () => import("../views/admin/OwnerInfo.vue")
},
```

### ç¬¬äº”æ­¥ï¼šåˆ›å»ºTagsç»„ä»¶

åˆ›å»º `src/components/Tags.vue`ï¼š

```vue
<template>
  <div class="tags-container">
    <div class="tags-wrapper">
      <el-tag
        v-for="(tag, index) in tagsList"
        :key="tag.path"
        :closable="tag.path !== '/admin/emptyPer'"
        :type="$route.path === tag.path ? 'primary' : 'info'"
        @close="closeTag(tag, index)"
        @click="goToPage(tag)"
        class="tag-item"
      >
        {{ tag.title }}
      </el-tag>
    </div>
  </div>
</template>

<script>
import { computed } from 'vue'
import { useStore } from 'vuex'
import { useRoute, useRouter } from 'vue-router'

export default {
  name: 'Tags',
  setup() {
    const store = useStore()
    const route = useRoute()
    const router = useRouter()
    
    const tagsList = computed(() => store.state.tagsList)
    
    const closeTag = (tag, index) => {
      store.commit('delTagsItem', { index })
      
      // å¦‚æœå…³é—­çš„æ˜¯å½“å‰é¡µï¼Œè·³è½¬åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾
      if (tag.path === route.path) {
        const nextTag = tagsList.value[index - 1] || tagsList.value[0]
        if (nextTag) {
          router.push(nextTag.path)
        }
      }
    }
    
    const goToPage = (tag) => {
      router.push(tag.path)
    }
    
    return {
      tagsList,
      closeTag,
      goToPage
    }
  }
}
</script>

<style scoped>
.tags-container {
  background: #fff;
  border-bottom: 1px solid #e8e8e8;
  padding: 8px 16px;
}

.tags-wrapper {
  display: flex;
  gap: 8px;
  overflow-x: auto;
}

.tag-item {
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.3s ease;
}

.tag-item:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>
```

### ç¬¬å…­æ­¥ï¼šæ›´æ–°VuexçŠ¶æ€ç®¡ç†

åœ¨ `src/store/index.js` ä¸­æ·»åŠ æ ‡ç­¾ç®¡ç†é€»è¾‘ï¼š

```javascript
import { createStore } from 'vuex'

export default createStore({
  state: {
    tagsList: [
      { title: 'é¦–é¡µ', path: '/admin/emptyPer', name: 'EmptyPer' }
    ],
    collapse: false
  },
  mutations: {
    // æ·»åŠ æ ‡ç­¾
    setTagsItem(state, data) {
      const exists = state.tagsList.find(item => item.path === data.path)
      if (!exists) {
        state.tagsList.push(data)
      }
    },
    
    // åˆ é™¤æ ‡ç­¾
    delTagsItem(state, data) {
      state.tagsList.splice(data.index, 1)
    },
    
    // æ¸…ç©ºæ ‡ç­¾ï¼ˆä¿ç•™é¦–é¡µï¼‰
    clearTags(state) {
      state.tagsList = [
        { title: 'é¦–é¡µ', path: '/admin/emptyPer', name: 'EmptyPer' }
      ]
    },
    
    handleCollapse(state, data) {
      state.collapse = data
    }
  }
})
```

### ç¬¬ä¸ƒæ­¥ï¼šåœ¨è·¯ç”±å®ˆå«ä¸­è‡ªåŠ¨æ·»åŠ æ ‡ç­¾

åœ¨ `src/router/index.js` ä¸­æ›´æ–°è·¯ç”±å®ˆå«ï¼š

```javascript
import store from '@/store'

router.beforeEach((to, from, next) => {
  document.title = `${to.meta.title} | é›ªäººåœè½¦ç®¡ç†ç³»ç»Ÿ`
  
  // è‡ªåŠ¨æ·»åŠ åˆ°æ ‡ç­¾åˆ—è¡¨
  if (to.meta.title && to.path !== '/login') {
    store.commit('setTagsItem', {
      title: to.meta.title,
      path: to.path,
      name: to.name
    })
  }
  
  // ... å…¶ä»–æƒé™éªŒè¯é€»è¾‘
  next()
})
```

## ğŸ¨ è§†è§‰æ•ˆæœé¢„è§ˆ

å®æ–½åçš„æ•ˆæœï¼š
- âœ… ç°ä»£åŒ–çš„æ·±è“è‰²æ¸å˜ä¾§è¾¹æ 
- âœ… æ¸…æ™°çš„é¢åŒ…å±‘å¯¼èˆªæ˜¾ç¤ºå½“å‰ä½ç½®
- âœ… æ™ºèƒ½çš„æ ‡ç­¾é¡µç®¡ç†
- âœ… æµç•…çš„åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ ·å¼å…¼å®¹æ€§**ï¼šç¡®ä¿Element Plusç‰ˆæœ¬å…¼å®¹
2. **å›¾æ ‡èµ„æº**ï¼šå¯èƒ½éœ€è¦æ›´æ–°SVGå›¾æ ‡è·¯å¾„
3. **æƒé™æ§åˆ¶**ï¼šä¿æŒåŸæœ‰æƒé™éªŒè¯é€»è¾‘
4. **å“åº”å¼**ï¼šæµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„æ˜¾ç¤ºæ•ˆæœ

## ğŸ”„ æµ‹è¯•æ­¥éª¤

1. å¯åŠ¨é¡¹ç›®ï¼š`npm run serve`
2. ç™»å½•ç³»ç»Ÿï¼ŒéªŒè¯å¯¼èˆªæ æ ·å¼
3. ç‚¹å‡»ä¸åŒèœå•ï¼Œæµ‹è¯•é¢åŒ…å±‘æ›´æ–°
4. éªŒè¯æ ‡ç­¾é¡µçš„æ·»åŠ å’Œå…³é—­åŠŸèƒ½
5. æµ‹è¯•æŠ˜å /å±•å¼€åŠŸèƒ½

å®Œæˆè¿™äº›æ­¥éª¤åï¼Œæ‚¨çš„åœè½¦ç®¡ç†ç³»ç»Ÿå°†æ‹¥æœ‰ç°ä»£åŒ–çš„å¯¼èˆªä½“éªŒï¼ 